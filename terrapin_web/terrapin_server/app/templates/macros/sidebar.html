

{% macro isactive(item, active) %}
  {% if item == active %}
    class="active"
  {% endif %}
{% endmacro %}

{% macro render(nav_items, active) %}

<aside class="main-sidebar">

  <!-- sidebar: style can be found in sidebar.less -->
  <section class="sidebar">

    <!-- Sidebar user panel -->
    <div class="user-panel">
      <div class="pull-left image">
        {{ _.img('avatar.png', _class="img-circle") }}
      </div>

      <div class="pull-left info">
        <p>{{ current_user.user_name|title }}</p>
      </div>
    </div>

    <!-- sidebar menu: : style can be found in sidebar.less -->
    <ul class="sidebar-menu">
      <li class="header">MAIN NAVIGATION</li>

      {% for item in nav_items %}
      	{% if item.children %}
     			<li  class="treeview">
     				<a href="{{ item.target }}">
	     				<i class="fa fa-{{ item.icon }}"></i>
	     				<span>{{ item.label }}</span>
	     			</a>

	     			<ul class="treeview-menu">
	     				{% for child in item.children %}
	     					<li>
	     						<a href="{{ child.target }}">
	     							<i class="fa fa-circle-o"></i>
	     							{{ child.label }}
	     						</a>
	     					</li>
	     				{% endfor %}
	     			</ul>
      		</li>
      	{% else %}
      		<li>
	      		<a href="{{ item.target }}">
	      			<i class="fa fa-{{ item.icon }}"></i>
	      			{{ item.label }}
	      		</a>
      		</li>
      	{% endif %}
      {% endfor %}

    </ul>
  </section>
  <!-- /.sidebar -->
</aside>

{% endmacro %}
